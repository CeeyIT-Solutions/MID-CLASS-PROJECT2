pipeline {
	agent any

		stages {

			stage('Initialize') {
				steps {
					echo 'Initializing.....'
						sh 'mvn initialize'
				}
			}

			stage('Buiding') {
				steps {
					echo 'Building.....'
						sh 'mvn clean package'
				}
			}
			stage('Test') {
				steps {
					echo 'Testing.....'
						sh 'mvn test'
				}
			}

			stage('Delopy') {
				steps {
					echo 'Deploying....'
					ansiblePlaybook become: true, becomeUser: 'ec2-user', credentialsId: 'ssh-jenkins', inventory: 'hosts.ini', playbook: 'deploy.yml'
  
				}
			}
		}
}
